template(name="organizationDetail")
  .organization-detail
    .container
      .view-header
        h1= organization.name
        if currentUser
          unless userIsMember
            a.btn.btn-default.header-btn.join-organization
              span Join
              i.fa.fa-users
      +paragraphText text=organization.description
      .row
        if memberCount
          .col-sm-7
            h2 Members
              span.member-count (#{memberCount})
            table.table.member-table
              thead
                tr
                  th Name
              tbody
                each members
                  tr
                    td.name
                      if fullName
                        a(href="{{path route='profileDetail' params=this}}")=fullName
                      else
                        i Name unknown
        .col-sm-10
          +paragraphText text=organization.description
      .row
        .panel.panel-default
          .panel-heading Members
          .panel-body
            unless userIsMember
              a.btn.btn-default.join-organization Join
          table.table
            thead
              tr
                th Name
                th Email
                th Role
                th
            tbody
              each admins
                tr.admin-row
                  td.name=fullName
                  td.email=emailAddress
                  td.role Admin
                  if userIsAdmin
                    unless hideButtonsForProfile _id
                      td
                        a.btn.btn-default.remove-admin(data-profileId=_id) Remove admin
              each members
                tr.member-row
                  td.name=fullName
                  td.email=emailAddress
                  td.role Member
                  if userIsAdmin
                    td
                      a.btn.btn-default.make-admin(data-profileId=_id) Make admin
